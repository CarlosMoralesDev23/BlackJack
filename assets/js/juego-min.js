

(()=>{
    let especiales=["J","K","Q","A"],tipos=["C","D","H","S"],deck=[],pJugador=0,pCompu=0,crearDeck=()=>{for(i=2;i<=10;i++)for(let a of tipos)deck.push(i+a);for(let r of especiales)for(let e of tipos)deck.push(r+e);return deck=_.shuffle(deck)},pedirCarta=()=>{if(0===deck.length)throw"No hay mas cartas en la baraja";return carta=deck.shift()},valorCarta=a=>{let r=a.slice(0,-1);return isNaN(r)?"A"===r?11:10:1*r};const crearInsertarCarta=a=>{let r=document.createElement("img");r.src=`./assets/cartas/cartas/${a}.png`,r.classList.add("cartas"),!1===btnPedir.disabled?divCartasJugador.append(r):divCartasCompu.append(r)},pedirYSumarPts=()=>{let a=pedirCarta();!1===btnPedir.disabled?(pJugador+=valorCarta(a),smallJugador.innerText=pJugador):(pCompu+=valorCarta(a),smallCompu.innerText=pCompu)};btnPedir.addEventListener("click",()=>{pedirYSumarPts(),crearInsertarCarta(carta),21===pJugador?(console.warn("Genial! 21pts"),btnPedir.disabled=!0,btnDetener.disabled=!0,turnoComputador()):pJugador>21&&(console.warn("Perdiste"),btnPedir.disabled=!0,btnDetener.disabled=!0,turnoComputador(pJugador))}),btnDetener.addEventListener("click",()=>{btnPedir.disabled=!0,btnDetener.disabled=!0,turnoComputador(pJugador)});const turnoComputador=a=>{do if(pedirYSumarPts(),crearInsertarCarta(carta),pCompu===pJugador?console.warn("El computador igualo perdiste"):pCompu>pJugador&&pCompu<21?console.warn("GANO el Computador"):21===pCompu?console.warn("Gano el Computador"):pCompu>21&&console.warn("GANASTE"),a>21)break;while(pCompu<pJugador)};btnNuevo.addEventListener("click",()=>{console.clear(),deck=[],pJugador=0,pCompu=0,smallCompu.innerText="0",smallJugador.innerText="0",divCartasCompu.innerHTML="",divCartasJugador.innerHTML="",btnDetener.disabled=!1,btnPedir.disabled=!1,deck=crearDeck()});
})()